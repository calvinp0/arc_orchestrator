/* ---- Theme tokens ---- */
:root{
  --bg:#0f1115; --surface:#171a21; --surface-2:#1f2330; --border:#2b3142;
  --text:#e7e9ee; --muted:#aab0bd; --accent:#6aa9ff; --accent-contrast:#0b1a33;
  --danger:#ff6b6b; --danger-contrast:#2a0d0d;
  --text-base:14px; --ui-base:13px; --mono-base:13px;
}

/* App frame */
html,body,#root{height:100%;margin:0;background:var(--bg);color:var(--text);font-size:var(--text-base);}
.app{height:100%;display:flex;flex-direction:column;}
.app.compact{--text-base:13px;--ui-base:12.5px;--mono-base:12.5px;}
main{flex:1 1 auto;overflow:hidden;padding:16px;background:var(--bg);}

/* Header nav (Runs / Settings) */
.tabs{padding:8px 12px;display:flex;gap:12px;}
.tabs button{
  background:var(--surface); color:var(--text);
  border:1px solid var(--border); padding:6px 10px; border-radius:10px;
  font-size:var(--ui-base);
}
.tabs button:hover{background:var(--surface-2);border-color:var(--accent);}
.tabs button.active{background:var(--surface-2);border-color:var(--accent);box-shadow:inset 0 -2px 0 var(--accent);}

/* Generic controls */
.btn{
  background:var(--surface); color:var(--text);
  border:1px solid var(--border); padding:6px 10px; border-radius:2px;
  font-size:var(--ui-base);
}
.btn:hover{background:var(--surface-2);border-color:var(--accent);}
.btn--danger{background:var(--danger-contrast);border-color:var(--danger);color:#ffd6d6;}
.input{
  background:var(--surface); color:var(--text);
  border:1px solid var(--border); padding:6px 10px; border-radius:2px;
  font-size:var(--ui-base);
}

/* Toolbar: tabs on LEFT, actions on RIGHT */
.toolbar{
  display:flex; align-items:center; gap:12px; padding-bottom:6px;
}

/* Left tab strip (scrollable) */
.tabs-left{
  display:flex; gap:8px; flex:1 1 auto; min-width:0;
  overflow-x:auto; overflow-y:hidden; white-space:nowrap; padding-bottom:2px;
}
.tabs-left::-webkit-scrollbar{height:8px;}
.tabs-left::-webkit-scrollbar-thumb{background:transparent;}
.tabs-left:hover::-webkit-scrollbar-thumb{background:var(--border);}

/* Right action cluster */
.actions-right{display:flex; gap:12px; flex:0 0 auto; margin-left:12px;}
.input--session{
  width:14ch;
  background:var(--surface-2); border-color:#3a4154; border-radius:4px;
  box-shadow:inset 0 1px 0 rgba(255,255,255,0.03);
}
.input--session::placeholder{color:var(--muted);opacity:.75;}
.input--session:focus-visible{outline:2px solid var(--accent); outline-offset:2px; border-color:var(--accent);}

/* Session tabs (square/condensed) */
.tab{
  display:inline-flex; align-items:center; gap:6px;
  background:var(--surface); color:var(--text);
  border:1px solid var(--border); padding:6px 10px; border-radius:2px;
  font-size:var(--ui-base);
}
.tab:hover{background:var(--surface-2);border-color:var(--accent);}
.tab--active{background:var(--surface-2);border-color:var(--accent);box-shadow:inset 0 -2px 0 var(--accent);}
.badge{background:var(--bg); border:1px solid var(--border); color:var(--muted); padding:2px 6px; border-radius:999px; margin-left:4px;}

/* Window tabs (rounded) */
.win-tabs{
  display:flex; gap:12px; align-items:flex-end;
  border-bottom:1px solid var(--border); padding-bottom:8px; margin-top:4px;
}
.win-tab{
  position:relative; display:inline-flex; align-items:center; gap:8px;
  background:var(--surface); color:var(--text);
  border:1px solid var(--border);
  padding:6px 28px 6px 10px; border-radius:10px 10px 0 0; margin-bottom:-1px;
  font-size:var(--ui-base);
}
.win-tab:hover{background:var(--surface-2);border-color:var(--accent);}
.win-tab--active{background:var(--surface-2);border-color:var(--accent);box-shadow:inset 0 -2px 0 var(--accent);}
.win-tab__close-btn{
  position:absolute; right:8px; top:4px; padding:0 6px; height:20px; line-height:20px;
  background:transparent; color:var(--muted); border:none; cursor:pointer; font-weight:700;
}
.win-tab__close-btn:hover{color:var(--text);}

/* Runs page & terminal */
.runs-page{height:100%;display:flex;flex-direction:column;gap:12px;}
.pane{
  flex:1 1 auto; min-height:300px; max-width:100%;
  overflow:auto; white-space:pre-wrap; overflow-wrap:anywhere; word-break:break-word;
  background:#0c0e13; color:var(--text);
  border:1px solid var(--border); border-radius:10px; padding:12px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;
  font-size:var(--mono-base); line-height:1.35;
}
.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace;}
form input[name="cmd"]{font-size:var(--ui-base);}

/* Better focus states */
.btn:focus-visible,.input:focus-visible,.tabs button:focus-visible,.tab:focus-visible,.win-tab:focus-visible{
  outline:2px solid var(--accent); outline-offset:2px;
}

/* Optional: dark scrollbars app-wide */
*{scrollbar-color:var(--border) var(--surface);}
::-webkit-scrollbar{height:10px;width:10px;}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:8px;}
::-webkit-scrollbar-track{background:var(--surface);}

.settings-actions{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top:12px;
}
.settings-actions .hint{ opacity:.8; font-size:12px; }
.settings-actions .path{
  opacity:.7; font-size:12px; padding:2px 6px; background:var(--surface);
  border:1px solid var(--border); border-radius:6px;
}
.settings-actions .spacer{ flex:1 1 auto; }  /* pushes Open buttons to the right */